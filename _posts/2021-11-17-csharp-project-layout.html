---
permalink: /posts/8-csharp-project-layout.html
title: C# Project Layout
layout: post
---

<p>
    If you have developed any software in Java the chances are that you have
    come across Maven and the <a href="https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html">Standard Directory Layout</a>.
    Some folks were not too keen on the layout, but Maven being an opinionated
    system itself, defined the convention. The convention stuck, and now you can
    find the code within any Java based project using Maven.
</p>

<h2>Microsoft Visual Studio</h2>

<p>
    Let's take a look at the projects created by <a href="https://visualstudio.microsoft.com/">Visual Studio</a>.
    The solution is created in the root of the selected directory. Next the
    project itself is created in a sub-directory and added to the solution. I
    think this is done to keep up the file structure similar to that of the
    Solution Explorer in the IDE. If you add another project then a new
    directory is created and the project is added to the solution. This makes
    sense in the IDE focused development environment that is Visual Studio.
</p>

<h2>JetBrains Rider</h2>

<p>
    The JetBrains <a href="https://www.jetbrains.com/rider/">Rider</a> product
    follows the Visual Studio layout pattern of a solution file in the root with
    the projects underneath. This makes sense in that their product is
    considered a Visual Studio IDE replacement. The layout will be familiar to
    developers picking up the IDE. Even on Linux they keep up appearances and
    continue with the traditional project structure.
</p>

<h2>.NET Runtime</h2>

<p>
    If you look at Microsoft's projects in the .NET universe you get a different
    picture. The <a href="https://github.com/dotnet/runtime">.NET Runtime</a>
    project contains a <code>src</code> directory which in turn contains a
    further nested directory structure for projects. There is no solution file
    present in the root. However, you will find 250+ more solution files
    embedded in the directory tree. It's a big project. But the files' presence
    means they are using Visual Studio (as expected). If you look into a project
    directory you will find the solution file. However, this is not your
    ordinary Visual Studio directory structure because there
    is another <code>src</code> and a <code>tests</code> directory. The
    <code>src</code> directory contains the solution file. This structure
    looks similar to <code>~/runtime/src/libraries/Common/Microsoft.CSharp/src</code>.
    That is hardly similar to the Visual Studio created default project layout.
    I am sure they have their reasons.
</p>

<p>
    <a href="https://www.linkedin.com/in/davidfowl/">David Fowler</a>, a
    prominent developer within .NET space, recommends following the solution
    in the root of the repository and a <code>src</code> directory for projects.
    Please see his Gist <a href="https://gist.github.com/davidfowl/ed7564297c61fe9ab814">.NET project structure</a>.
    This makes sense in that he is at Microsoft and either influenced or was
    influenced by their decisions for their public repositories.
</p>

<h2>Visual Studio Code</h2>

<p>
    My point is that there is no standard. This comes to light if you happen to
    be developing .NET code on a non-Windows platform or if you are developing
    within <a href="https://code.visualstudio.com/">Visual Studio Code</a>.
    There the project structure is entirely up to you. That particular editor,
    and its usage of the command line tooling, enforces nothing. There is no
    directory standard layout. There is not even a suggested directory layout
    other than what is generated by Visual Studio.
</p>

<h2>Why do I care?</h2>

<p>
    I can already hear you complaining: why you should care about this at all?
    The reality is that you should only care when working on a project with more
    than yourself. If you are working a personal project or temporary repository
    exploring some technology, please, do whatever you want. However, if you are
    working on a team (which is defined as you + 1) configuring the repositories
    should be a team effort. Without a Directory Standard Layout guideline for
    .NET development you can find yourself having multiple projects with
    differing layouts. I will grant you that is the worst case. The most likely
    case is that you are using the de facto standard Visual Studio layout. If
    Visual Studio Code is being used then I would suggest sticking with the
    Visual studio layout.
</p>

<p>
    <em>If you are working on a Microsoft project then the du jure standard
        appears to be something entirely different. Then I wish you Godspeed.</em>
</p>
